{
  "issue_id": 18477,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/18477",
  "title": "[BUG][JAVA] Prevent generating \"pattern\" and \"size\" to ENUM",
  "description_text": "#### Bug Report Checklist\r\n\r\n- [x] Have you provided a full/minimal spec to reproduce the issue?\r\n- [x] Have you validated the input using an OpenAPI validator ([example](https://apidevtools.org/swagger-parser/online/))?\r\n- [x] Have you [tested with the latest master](https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator) to confirm the issue still exists?\r\n- [x] Have you searched for related issues/PRs?\r\n- [x] What's the actual output vs expected output?\r\n- [ ] [Optional] Sponsorship to speed up the bug fix or feature request ([example](https://github.com/OpenAPITools/openapi-generator/issues/6178))\r\n\r\n\r\n##### Description\r\n\r\nRelated to this [issue](https://github.com/OpenAPITools/openapi-generator/issues/18095), in addition to the types already excluded, we should add the case of those listed below\r\n\r\n##### openapi-generator version\r\n\r\n7.5.0\r\n\r\n##### OpenAPI declaration file content or url\r\n\r\n```yaml\r\nopenapi: 3.0.6\r\n\r\ninfo:\r\n  title: My service\r\n  version: 2.0.0\r\n  description: Layer API\r\n\r\n    \r\npaths:\r\n  /api/v1/products:\r\n    post:\r\n      summary: My summary\r\n      operationId: operationId1\r\n      requestBody:\r\n        description: Request Body\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: \"#/components/schemas/Product\"\r\n      responses:\r\n        \"200\":\r\n          description: OK status\r\n  \r\ncomponents:    \r\n  schemas:   \r\n    Product:\r\n      properties:\r\n        types:\r\n          type: array\r\n          maxItems: 1000\r\n          minItems: 1\r\n          items:\r\n            $ref: \"#/components/schemas/TypeEnum\"    \r\n    TypeEnum:\r\n      type: string\r\n      maxLength: 2147483647\r\n      enum:\r\n        - TYPE_1\r\n        - TYPE_2\r\n```\r\n\r\n##### Generation Details\r\n\r\n```\r\njava -jar openapi-generator-cli-7.5.0.jar generate -g spring -i spec.yaml -o tmp --additional-properties library=spring-boot\r\n```\r\n\r\n##### Steps to reproduce\r\n\r\n. Generate source:\r\n```java\r\n@JsonTypeName(\"Product\")\r\n@Generated(value = \"com.inditex.amigafwk.common.rest.server.codegen.AmigaSpringCodegen\", date = \"2024-04-24T10:22:47.180348556+02:00[Europe/Madrid]\")\r\npublic class ProductDTO implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Valid\r\n  private List<@Size(max = 2147483647)TypeEnumDTO> types; // Incorrect constraint\r\n\r\n//...\r\n```\r\n\r\nTrace:\r\n```java\r\njakarta.servlet.ServletException: Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Size' validating type ...'\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1022)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n```\r\n\r\n##### Related issues/PRs\r\n\r\n- https://github.com/OpenAPITools/openapi-generator/issues/18095\r\n\r\n##### Suggest a fix\r\n\r\nAdd enums to ModelsUtils#shouldIgnoreBeanValidation\r\n"
}