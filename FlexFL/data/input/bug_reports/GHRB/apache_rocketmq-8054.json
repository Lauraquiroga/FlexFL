{
  "issue_id": 8053,
  "issue_url": "https://github.com/apache/rocketmq/issues/8053",
  "title": "[Bug] Producer should be retry put message if OS_PAGE_CACHE_BUSY",
  "description_text": "### Before Creating the Bug Report\n\n- [X] I found a bug, not just asking a question, which should be created in [GitHub Discussions](https://github.com/apache/rocketmq/discussions).\n\n- [X] I have searched the [GitHub Issues](https://github.com/apache/rocketmq/issues) and [GitHub Discussions](https://github.com/apache/rocketmq/discussions)  of this repository and believe that this is not a duplicate.\n\n- [X] I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\n### Runtime platform environment\n\nUbuntu 20.04\n\n### RocketMQ version\n\ndevelop\n\n### JDK Version\n\nJDK 8\n\n### Describe the Bug\n\nIf the broker is overloaded or disk IO is busy, it will clean up some expired requests and return with SYSTEM_BUSY, at which point the producer will not retry to put the message  into the broker. So I think PutMessageStatus is OS_PAGE_CACHE_BUSY should also return SYSTEM_BUSY.\r\n\r\nreference: https://github.com/apache/rocketmq/blob/develop/broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java#L432\n\n### Steps to Reproduce\n\n1. mock PutMessageStatus=OS_PAGE_CACHE_BUSY\r\n2. put the message into broker\r\n3. observe the number of produce retries\n\n### What Did You Expect to See?\n\nThe producer does not retry putting the message when the PutMessageStatus is OS_PAGE_CACHE_BUSY.\n\n### What Did You See Instead?\n\nThe producer retries putting the message when the PutMessageStatus is OS_PAGE_CACHE_BUSY.\n\n### Additional Context\n\n_No response_"
}