{
    "title": "#126 Errors creating/parsing dates with specific time zones.",
    "description": "\nConsider the following test code using Joda 2.0\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.format.DateTimeFormat;\nimport org.joda.time.format.DateTimeFormatter;\nimport java.util.Set;\npublic class JodaDateTimeZoneTester {\nprivate static DateTimeFormatter formatter = DateTimeFormat.forPattern(\"MM/dd/yyyy HH:mm:ss.SSS ZZZ\");\nprivate static int numTimeZonesTested = 0;\nprivate static int numTimeZonesPassed = 0;\nprivate static int numTimeZonesFailed = 0;\nprivate static int numTimeZonesException = 0;\n\nprivate static String convertDateTimeToFormattedString(DateTime dateTime) {\n    return formatter.print(dateTime);\n}\n\nprivate static DateTime parseStringToDateTime(String formattedDateTime) {\n    return formatter.parseDateTime(formattedDateTime);\n}\n\nprivate static void testDateTimeFormatter(DateTime dateTime, String timeZone) {\n    numTimeZonesTested++;\n\n    final String dateTimeZoneId = dateTime.getZone().getID();\n\n    if (!timeZone.equals(dateTimeZoneId)) {\n        numTimeZonesFailed++;\n        System.out.println(timeZone + \" failed to construct into the proper date time zone - constructed time zone = \" + dateTimeZoneId);\n        return;\n    }\n    try {\n        DateTime convertedDateTime = parseStringToDateTime(convertDateTimeToFormattedString(dateTime));\n\n        if (dateTime.equals(convertedDateTime)) {\n            numTimeZonesPassed++;\n            //System.out.println(dateTime.getZone().getID() + \" passed.\");\n        } else {\n            numTimeZonesFailed++;\n            System.out.println(\"Formatter failed for time zone ID: \" + dateTimeZoneId + \"    converted it to: \" + convertedDateTime.getZone().getID());\n        }\n    } catch (IllegalArgumentException iae) {\n        numTimeZonesException++;\n        System.out.println(\"Formatter threw exception for time zone id: \" + dateTimeZoneId);\n    }\n}\n\npublic static void main(String[] args) {\n    Set<String> timeZones = DateTimeZone.getAvailableIDs();\n\n    for (String timeZone : timeZones) {\n        testDateTimeFormatter(DateTime.now().withZone(DateTimeZone.forID(timeZone)), timeZone);\n    }\n\n    System.out.println();\n    System.out.println(\"Number of Time Zones tested: \" + numTimeZonesTested);\n    System.out.println(\"Number passed:     \" + numTimeZonesPassed);\n    System.out.println(\"Number failed:     \" + numTimeZonesFailed);\n    System.out.println(\"Number exceptions: \" + numTimeZonesException);\n    System.out.println();\n}\n\n}\nThe results are out of 572 time zones 130 fail and 30 throw exceptions. \nThe failures are the most interesting. When I query DateTimeZone to get its time zone ids I will get a time zone like America/Atka. When I take that id and create a date time with it its time zone id is America/Adak. It is like there are multiple list of time zones in Joda time and they are out of sync. \nSource code is attached. \n"
}