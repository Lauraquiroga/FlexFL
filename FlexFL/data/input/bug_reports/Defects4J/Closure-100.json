{
    "title": "Only assignment to \"this\" issues a \"dangerous use of the global this object\" warning.",
    "description": "What steps will reproduce the problem?\n1. Compile this:\r\n//////////////////////////////////////////\r\n// ==ClosureCompiler==\r\n// @compilation_level ADVANCED_OPTIMIZATIONS\r\n// @output_file_name default.js\r\n// ==/ClosureCompiler==\r\n\r\n/** @constructor */\r\nfunction Foo()\r\n{\r\n    this._bar = null;\r\n};\r\n\r\n/** @this {Foo} */\r\nfunction writeMethodWithAnnotation()\r\n{\r\n   this._bar = 123; // no warning. ok\r\n}\r\n\r\n/** @this {Foo} */\r\nfunction readMethodWithAnnotation()\r\n{\r\n   return this._bar; // no warning. ok\r\n}\r\n\r\n//----\r\n\r\nfunction writeMethodWithoutAnnotation()\r\n{\r\n   this._bar = 123; // warning. ok.\r\n}\r\n\r\nfunction readMethodWithoutAnnotation()\r\n{\r\n   return this._bar; // <- No warning!\r\n}\r\n//////////////////////////////////////////\r\n\r\nWhat is the expected output? What do you see instead?\n- Should get two \"dangerous use of the global this object\" warnings in the \r\nreadMethodWithAnnotation and writeMethodWithoutAnnotation functions.\r\n- Only writeMethodWithoutAnnotation warns.\r\n\r\nWhat version of the product are you using? On what operating system?\nBoth 20100330 and online compiler.\r\n\r\nPlease provide any additional information below.\nref: http://code.google.com/closure/compiler/docs/js-for-compiler.html \r\n\"To prevent compiler warnings, you must use a @this annotation whenever \r\nthis appears in a function that is neither a prototype method nor a \r\nfunction marked as a @constructor.\"\r\n\r\nThis also means the example code in the docs won't trig a warning.\r\n-----\r\n/**\r\n * Returns the roster widget element.\r\n * @this {Widget} <-- currently this doesn't matter\r\n * @return {Element}\r\n */\r\nfunction() {\r\n  return this.getComponent().getElement();\r\n});\r\n------\r\n\r\n// Fredrik"
}