{
    "title": "StringIndexOutOfBoundsException when testing whether String content is valid HTML ",
    "description": "\nIf I try to parse a tag with an equals sign (an empty attribute) but without any single or double quotes around an attribute value, then I get a StringIndexOutOfBoundsException.  The stack trace is pasted below.\nAn example String would be \"<a =a\"\nThe following JUnit test case should not throw a StringIndexOutOfBoundsException:\nimport static org.junit.Assert.assertTrue;\nimport org.jsoup.Jsoup;\nimport org.jsoup.safety.Whitelist;\nimport org.junit.Test;\npublic class BadAttributeTest {\n@test\npublic void aTagWithABadAttributeIsValid() throws Exception {\nassertTrue(Jsoup.isValid(\"<a =a\", Whitelist.relaxed()));\n}\n}\njava.lang.StringIndexOutOfBoundsException: String index out of range: 13\nat java.lang.String.charAt(String.java:686)\nat org.jsoup.parser.TokenQueue.consume(TokenQueue.java:130)\nat org.jsoup.parser.Parser.parseAttribute(Parser.java:207)\nat org.jsoup.parser.Parser.parseStartTag(Parser.java:142)\nat org.jsoup.parser.Parser.parse(Parser.java:91)\nat org.jsoup.parser.Parser.parseBodyFragment(Parser.java:64)\nat org.jsoup.Jsoup.parseBodyFragment(Jsoup.java:99)\nat org.jsoup.Jsoup.isValid(Jsoup.java:155)\n"
}