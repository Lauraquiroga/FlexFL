{
    "title": "DiscreteDistribution.sample(int) may throw an exception if first element of singletons of sub-class type",
    "description": "\n\nCreating an array with Array.newInstance(singletons.get(0).getClass(), sampleSize) in DiscreteDistribution.sample(int) is risky. An exception will be thrown if:\n\nsingleons.get(0) is of type T1, an sub-class of T, and\nDiscreteDistribution.sample() returns an object which is of type T, but not of type T1.\n\nTo reproduce:\n\nList<Pair<Object,Double>> list = new ArrayList<Pair<Object, Double>>();\nlist.add(new Pair<Object, Double>(new Object() {}, new Double(0)));\nlist.add(new Pair<Object, Double>(new Object() {}, new Double(1)));\nnew DiscreteDistribution<Object>(list).sample(1);\n\n\nAttaching a patch.\n\n"
}